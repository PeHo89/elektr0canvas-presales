(window.webpackJsonpdappinit=window.webpackJsonpdappinit||[]).push([[0],{1085:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(71),c=a.n(o),s=a(120),i=a(150),l=a(470),u=a(36),d={address:"",web3:null,connected:!1,networkId:Number("97"),connectWalletPending:!1,disconnectWalletPending:!1};var p={frames:[]};var m=Object(i.b)({home:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"HOME_CONNECT_WALLET_BEGIN":return Object(u.a)(Object(u.a)({},e),{},{connectWalletPending:!0});case"HOME_CONNECT_WALLET_SUCCESS":return Object(u.a)(Object(u.a)({},e),{},{web3:t.data.web3,address:Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_URL:"http://localhost:8000",REACT_APP_TO_ADDRESS:"0x9E806413EF18a9eB2219180BE91BE4881f9c5c09",REACT_APP_NETWORK_ID:"97"}).ACCOUNT?Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_URL:"http://localhost:8000",REACT_APP_TO_ADDRESS:"0x9E806413EF18a9eB2219180BE91BE4881f9c5c09",REACT_APP_NETWORK_ID:"97"}).ACCOUNT:t.data.address,networkId:t.data.networkId,connected:!0,connectWalletPending:!1});case"HOME_NETWORK_CHANGED":return Object(u.a)(Object(u.a)({},e),{},{networkId:t.data});case"HOME_ACCOUNTS_CHANGED":return Object(u.a)(Object(u.a)({},e),{},{address:t.data});case"HOME_CONNECT_WALLET_FAILURE":return Object(u.a)(Object(u.a)({},e),{},{connectWalletPending:!1});case"HOME_DISCONNECT_WALLET_BEGIN":return Object(u.a)(Object(u.a)({},e),{},{disconnectWalletPending:!0});case"HOME_DISCONNECT_WALLET_SUCCESS":return Object(u.a)(Object(u.a)({},e),{},{address:"",web3:null,connected:!1,disconnectWalletPending:!1});case"HOME_DISCONNECT_WALLET_FAILURE":return Object(u.a)(Object(u.a)({},e),{},{web3:null,address:"",disconnectWalletPending:!1});default:return e}},frame:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_FRAMES":return{frames:t.payload.frames};default:return e}}});a(514);var f=a(10),h=a(12),E=a(19),b=a(18),y=a(14),C=a.n(y),v=a(48),O=a(494),g=a(1099),N=a(471),_=a.n(N),w=a(275),S=a.n(w),I=a(472),j=a.n(I);function A(e,t){return function(a){return a({type:"HOME_DISCONNECT_WALLET_BEGIN"}),new Promise(function(){var n=Object(v.a)(C.a.mark((function n(r,o){return C.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,!(e&&e.currentProvider&&e.currentProvider.close)){n.next=4;break}return n.next=4,e.currentProvider.close();case 4:return n.next=6,t.clearCachedProvider();case 6:a({type:"HOME_DISCONNECT_WALLET_SUCCESS"}),r(),n.next=14;break;case 10:n.prev=10,n.t0=n.catch(0),a({type:"HOME_DISCONNECT_WALLET_FAILURE"}),o(n.t0);case 14:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e,t){return n.apply(this,arguments)}}())}}var B=a(121),T=a.n(B);function k(){return function(){var e=Object(v.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:T.a.get("".concat("http://localhost:8000","/get_frames")).then((function(e){var a=e.data;t({type:"FETCH_FRAMES",payload:a})})).catch((function(e){console.log("error")}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}var x={56:{chainId:"0x38",chainName:"BSC Mainnet",nativeCurrency:{name:"Binance Coin",symbol:"BNB",decimals:18},rpcUrls:["https://bsc-dataseed.binance.org"],blockExplorerUrls:["https://bscscan.com/"]},97:{chainId:"0x61",chainName:"BSC Testnet",nativeCurrency:{name:"Binance Coin",symbol:"BNB",decimals:18},rpcUrls:["https://data-seed-prebsc-1-s1.binance.org:8545"],blockExplorerUrls:["https://explorer.binance.org/smart-testnet"]}},M=function(e){return new Promise((function(t,a){var n=window.ethereum;n?x.hasOwnProperty(e)?n.request({method:"wallet_addEthereumChain",params:[x[e]]}).then(t).catch(a):a(new Error("No network settings configured for chainId: '".concat(e,"'"))):a(new Error("window.ethereum is '".concat(typeof n,"'")))}))},L=a(1103),P=(a(172),function(e){Object(E.a)(a,e);var t=Object(b.a)(a);function a(){return Object(f.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"screenCard"},r.a.createElement(O.a,{src:"/static/images/product_main_image.png",size:"small"}),r.a.createElement("p",{className:"screenTitleLabel"},this.props.frame.title),r.a.createElement("p",{className:"screenDescription"},this.props.frame.description),r.a.createElement("p",{className:"screenDescription"},this.props.frame.balance," left"),r.a.createElement("div",{className:"screenButtonSection"},r.a.createElement(L.a,{className:"screenMoreButton",onClick:function(){return e.props.openModal(e.props.frame)}},"More"),r.a.createElement(L.a,{primary:!0,className:"screenBuyButton",onClick:function(){return e.props.openSalesModal(e.props.frame)}},this.props.frame.price," \u039e Buy")))}}]),a}(r.a.Component)),D=a(1102),W=(r.a.Component,a(1100)),R=function(e){return r.a.createElement(W.a,{open:e.modalOpen,size:"small"},r.a.createElement(W.a.Header,null,r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},r.a.createElement("p",null,e.frameData.title),r.a.createElement("p",{style:{cursor:"pointer"},onClick:e.modalClose},"\u2715"))),r.a.createElement(W.a.Content,null,r.a.createElement("div",{className:"modalCotentInfoLabel"},r.a.createElement("div",{style:{display:"block",marginRight:"50px"}},r.a.createElement("p",null,"Size"),r.a.createElement("p",null,"Category"),r.a.createElement("p",null,"Price")),r.a.createElement("div",{style:{display:"block"}},r.a.createElement("p",null,e.frameData.size,'" (',e.frameData.size_mm,")"),r.a.createElement("p",null,e.frameData.category),r.a.createElement("p",null,e.frameData.price," BNB"))),r.a.createElement(O.a,{src:"/static/images/detail_img.png",size:"medium",style:{marginLeft:"25%"}})))},H=function(e){Object(E.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).handleSubmit=function(){var e=!1,t=!1,a=!1,r=!1,o=!1,c=!1,s=!1,i=!1;""===n.state.email?(n.setState({emailError:!0}),e=!0):(n.setState({emailError:!1}),e=!1),""===n.state.firstName?(n.setState({firstNameError:!0}),t=!0):(n.setState({firstNameError:!1}),t=!1),""===n.state.lastName?(n.setState({lastNameError:!0}),a=!0):(n.setState({lastNameError:!1}),a=!1),""===n.state.code&&n.state.existCodeInput?(n.setState({codeError:!0}),r=!0):(n.setState({codeError:!1}),r=!1),""===n.state.address1?(n.setState({address1Error:!0}),o=!0):(n.setState({address1Error:!1}),o=!1),""===n.state.city?(n.setState({cityError:!0}),c=!0):(n.setState({cityError:!1}),c=!1),""===n.state.country?(n.setState({countryError:!0}),s=!0):(n.setState({countryError:!1}),s=!1),""===n.state.zipCode?(n.setState({zipCodeError:!0}),i=!0):(n.setState({zipCodeError:!1}),i=!1),e||t||a||r||o||c||s||i?alert("Please complete all required fields."):n.state.existCodeInput?n.verifyCode(n.state.email,n.state.code):n.verifyEmail(n.state.email)},n.verifyCode=function(e,t){T.a.post("".concat("http://localhost:8000","/verify_code"),{email:e,code:t}).then((function(e){e.data.verified?(n.setState({existCodeInput:!1}),n.transferAndRegisterBuyer()):alert("The code is incorrect. Please input the correct one!")})).catch((function(e){console.log("error")}))},n.verifyEmail=function(e){T.a.post("".concat("http://localhost:8000","/verify_email"),{email:e}).then((function(e){if(!e.data.verified)return n.setState({existCodeInput:!0}),void alert("Input the verification code we sent to ".concat(n.state.email,"."));n.transferAndRegisterBuyer()})).catch((function(e){console.log(e)}))},n.transferAndRegisterBuyer=function(){n.props.home.web3?n.props.home.web3.eth.sendTransaction({from:n.props.home.address,to:"0x9E806413EF18a9eB2219180BE91BE4881f9c5c09",value:(n.props.frameData.price*Math.pow(10,18)).toString()}).on("transactionHash",(function(e){n.registerBuyer()})).on("receipt",(function(e){console.log(e)})).on("confirmation",(function(e,t){})).on("error",(function(e){4001!==e.code&&alert(e.message)})):alert("Please setup a wallet first!")},n.registerBuyer=function(){T.a.post("".concat("http://localhost:8000","/register_buyer"),{email:n.state.email,first_name:n.state.firstName,last_name:n.state.lastName,company:n.state.company,address1:n.state.address1,address2:n.state.address2,city:n.state.city,country:n.state.country,zip_code:n.state.zipCode,phone:n.state.phone,frame:n.props.frameData.id}).then((function(e){alert("Successfully Ordered!"),n.props.modalClose(),n.props.getFrames()})).catch((function(e){alert("The order is failed!")}))},n.state={firstName:"",lastName:"",email:"",code:"",company:"",address1:"",address2:"",city:"",country:"",phone:"",zipCode:"",firstNameError:!1,lastNameError:!1,emailError:!1,codeError:!1,address1Error:!1,cityError:!1,countryError:!1,zipCodeError:!1,existCodeInput:!1},n}return Object(h.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(W.a,{open:this.props.modalOpen,size:"small"},r.a.createElement(W.a.Header,null,r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},r.a.createElement("p",null,this.props.frameData.title),r.a.createElement("p",{style:{cursor:"pointer"},onClick:this.props.modalClose},"\u2715"))),r.a.createElement(W.a.Content,null,r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("div",{style:{width:"50%"}},r.a.createElement("div",{className:"modalCotentInfoLabel"},r.a.createElement("div",{style:{display:"block",marginRight:"50px"}},r.a.createElement("p",null,"Size"),r.a.createElement("p",null,"Category"),r.a.createElement("p",null,"Price")),r.a.createElement("div",{style:{display:"block"}},r.a.createElement("p",null,this.props.frameData.size,'" (',this.props.frameData.size_mm,")"),r.a.createElement("p",null,this.props.frameData.category),r.a.createElement("p",null,this.props.frameData.price," BNB"))),r.a.createElement(O.a,{src:"/static/images/detail_img.png",size:"medium"})),r.a.createElement("div",{style:{width:"50%"}},r.a.createElement(g.a,null,r.a.createElement("h4",{className:"ui dividing header"},"Contact Information"),r.a.createElement(g.a.Input,{fluid:!0,id:"form-subcomponent-shorthand-input-email",label:"Email",placeholder:"Email",required:!0,onChange:function(t){return e.setState({email:t.target.value})},error:this.state.emailError}),r.a.createElement(g.a.Group,{widths:"equal",style:this.state.existCodeInput?{}:{display:"none"}},r.a.createElement(g.a.Input,{fluid:!0,id:"form-subcomponent-shorthand-input-code",label:"Verification code",placeholder:"Verification code",required:!0,onChange:function(t){return e.setState({code:t.target.value})},error:this.state.codeError}),r.a.createElement(L.a,{className:"screenMoreButton",style:{visibility:"hidden"}},"Resend")),r.a.createElement("h4",{className:"ui dividing header"},"Shipping Information"),r.a.createElement(g.a.Group,{widths:"equal"},r.a.createElement(g.a.Input,{fluid:!0,id:"form-subcomponent-shorthand-input-first-name",label:"First name",placeholder:"First name",required:!0,onChange:function(t){return e.setState({firstName:t.target.value})},error:this.state.firstNameError}),r.a.createElement(g.a.Input,{fluid:!0,id:"form-subcomponent-shorthand-input-last-name",label:"Last name",placeholder:"Last name",required:!0,onChange:function(t){return e.setState({lastName:t.target.value})},error:this.state.lastNameError})),r.a.createElement(g.a.Input,{fluid:!0,id:"form-subcomponent-shorthand-input-company",label:"Company",placeholder:"Company",onChange:function(t){return e.setState({company:t.target.value})}}),r.a.createElement(g.a.Group,{widths:"equal"},r.a.createElement(g.a.Input,{fluid:!0,id:"form-subcomponent-shorthand-address1",label:"Street number",placeholder:"Street and house number",required:!0,onChange:function(t){return e.setState({address1:t.target.value})},error:this.state.address1Error}),r.a.createElement(g.a.Input,{fluid:!0,id:"form-subcomponent-shorthand-input-address2",label:"Additional address",placeholder:"Additional address",onChange:function(t){return e.setState({address2:t.target.value})}})),r.a.createElement(g.a.Group,{widths:"equal"},r.a.createElement(g.a.Input,{fluid:!0,id:"form-subcomponent-shorthand-input-city",label:"City",placeholder:"City",required:!0,onChange:function(t){return e.setState({city:t.target.value})},error:this.state.cityError}),r.a.createElement(g.a.Input,{fluid:!0,id:"form-subcomponent-shorthand-input-country",label:"Country",placeholder:"Country",required:!0,onChange:function(t){return e.setState({country:t.target.value})},error:this.state.countryError})),r.a.createElement(g.a.Group,{widths:"equal"},r.a.createElement(g.a.Input,{fluid:!0,id:"form-subcomponent-shorthand-input-zip-code",label:"Zip code",placeholder:"Zip code",required:!0,onChange:function(t){return e.setState({zipCode:t.target.value})},error:this.state.zipCodeError}),r.a.createElement(g.a.Input,{fluid:!0,id:"form-subcomponent-shorthand-input-phone",label:"Phone",placeholder:"Phone",onChange:function(t){return e.setState({phone:t.target.value})}}))))),r.a.createElement("div",{className:"salesModalButtonSection"},r.a.createElement(L.a,{className:"screenMoreButton",onClick:this.props.modalClose,style:{width:"20%"}},"Cancel"),r.a.createElement(L.a,{primary:!0,className:"screenBuyButton",onClick:function(){e.handleSubmit()},style:{width:"20%"}},this.props.frameData.price," \u039e Buy"))))}}]),a}(n.Component),F=Object(s.b)((function(e){return{home:e.home}}),(function(e){return{getFrames:function(){return e(k())}}}))(H),U=function(e){Object(E.a)(n,e);var t=Object(b.a)(n);function n(e){var a;return Object(f.a)(this,n),(a=t.call(this,e)).openModal=function(e){a.setState({modalOpen:!0,selectedFrame:Object(u.a)({},e)})},a.closeModal=function(){a.setState({modalOpen:!1})},a.openSalesModal=function(e){a.setState({salesModalOpen:!0}),a.setState({selectedFrame:Object(u.a)({},e)})},a.closeSalesModal=function(){a.setState({salesModalOpen:!1})},a.state={modalOpen:!1,salesModalOpen:!1,selectedFrame:{title:"",size:0,category:"",price:0,image:""}},a}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=Object(v.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.props.connectWallet(new _.a({network:"binance",cacheProvider:!0,providerOptions:{injected:{display:{name:"Injected",description:"Home-BrowserWallet"}},walletconnect:{package:S.a,options:{rpc:{1:"https://bsc-dataseed.binance.org/",56:"https://bsc-dataseed.binance.org/"}}},"custom-binance":{display:{name:"Binance",description:"Binance Chain Wallet",logo:a(384)},package:"binance",connector:function(){var e=Object(v.a)(C.a.mark((function e(t,a){var n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=window.BinanceChain,e.next=3,n.enable();case 3:return e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()}}})),this.props.getFrames();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(v.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:M("97").catch((function(e){console.error(e)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"layoutBG"},r.a.createElement(R,{modalOpen:this.state.modalOpen,modalClose:this.closeModal,frameData:this.state.selectedFrame}),r.a.createElement(F,{modalOpen:this.state.salesModalOpen,modalClose:this.closeSalesModal,frameData:this.state.selectedFrame}),r.a.createElement("div",{className:"logoSection"},r.a.createElement(O.a,{src:"/static/images/elektr0canvas.png",height:"160px",width:"450px"})),r.a.createElement("div",{className:"table_body_scrollable"},r.a.createElement(g.a,null,r.a.createElement("div",{className:"productsArea"},this.props.frame.frames.map((function(t,a){return r.a.createElement(P,{openModal:e.openModal,openSalesModal:e.openSalesModal,frame:t,key:t.id})})))),r.a.createElement("div",{className:"productsInclusiveInfoSection"},r.a.createElement("div",{className:"productsInclusiveInfo"},r.a.createElement("p",null,"Every canva is shipped inclusive:"),r.a.createElement("p",null,"+ power cable"),r.a.createElement("p",null,"+ mountaining system"),r.a.createElement("p",null,"+ basic frame"))),r.a.createElement("div",{className:"appIconSection"},r.a.createElement("p",null,"Apps soon available"),r.a.createElement("div",null,r.a.createElement(O.a,{src:"/static/images/download_apple_store.png"}),r.a.createElement(O.a,{src:"/static/images/download_google_play.png"})))),r.a.createElement("div",{className:"footer"},r.a.createElement("a",{href:"#Imprint"},"Imprint"),"\xa0\xa0\xa0\xa0|\xa0\xa0\xa0\xa0",r.a.createElement("a",{href:"#Newsletter"},"Newsletter"),"\xa0\xa0\xa0\xa0|\xa0\xa0\xa0\xa0",r.a.createElement("a",{href:"#Support"},"Support")))}}]),n}(n.Component),z=Object(s.b)((function(e){return{home:e.home,frame:e.frame}}),(function(e){return{connectWallet:function(t){return e(function(e){return function(){var t=Object(v.a)(C.a.mark((function t(a){var n,r,o,c,s;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"HOME_CONNECT_WALLET_BEGIN"}),t.prev=1,t.next=4,e.connect();case 4:return n=t.sent,(r=new j.a(n)).eth.extend({methods:[{name:"chainId",call:"eth_chainId",outputFormatter:r.utils.hexToNumber}]}),function(t){t.on&&(t.on("close",(function(){a(A(r,e))})),t.on("disconnect",Object(v.a)(C.a.mark((function t(){return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a(A(r,e));case 1:case"end":return t.stop()}}),t)})))),t.on("accountsChanged",function(){var t=Object(v.a)(C.a.mark((function t(n){return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n[0]?a({type:"HOME_ACCOUNTS_CHANGED",data:n[0]}):a(A(r,e));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.on("chainChanged",function(){var e=Object(v.a)(C.a.mark((function e(t){var n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=r.utils.isHex(t)?r.utils.hexToNumber(t):t,console.log(n),a({type:"HOME_NETWORK_CHANGED",data:n});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}(n),t.next=11,r.eth.getAccounts();case 11:return o=t.sent,c=o[0],t.next=15,r.eth.getChainId();case 15:86===(s=t.sent)&&(s=56),a({type:"HOME_CONNECT_WALLET_SUCCESS",data:{web3:r,address:c,networkId:s}}),t.next=23;break;case 20:t.prev=20,t.t0=t.catch(1),a({type:"HOME_CONNECT_WALLET_FAILURE"});case 23:case"end":return t.stop()}}),t,null,[[1,20]])})));return function(e){return t.apply(this,arguments)}}()}(t))},getFrames:function(){return e(k())}}}))(U),q=function(e){Object(E.a)(a,e);var t=Object(b.a)(a);function a(){return Object(f.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){return r.a.createElement(z,null)}}]),a}(n.Component),G=function(e){Object(E.a)(a,e);var t=Object(b.a)(a);function a(){return Object(f.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(q,null))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var K,V=Object(i.c)(m,K,Object(i.a)(l.a));c.a.render(r.a.createElement(s.a,{store:V},r.a.createElement(G,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},172:function(e,t,a){},384:function(e,t,a){e.exports=a.p+"static/media/binance-wallet.745a9935.png"},506:function(e,t,a){e.exports=a(1085)},514:function(e,t,a){},525:function(e,t){},576:function(e,t){},578:function(e,t){},588:function(e,t){},590:function(e,t){},616:function(e,t){},621:function(e,t){},623:function(e,t){},630:function(e,t){},632:function(e,t){},644:function(e,t){},804:function(e,t){},811:function(e,t){}},[[506,1,2]]]);
//# sourceMappingURL=main.2b8fca00.chunk.js.map